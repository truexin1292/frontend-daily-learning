<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lazyload 3</title>
    <style>
        img {
            display: block;
            margin-bottom: 50px;
            /*width: 800px;*/
        }
    </style>
</head>
<body>
<!--简洁，但是浏览器尚未全部实现。-->
<img src="images/load.gif" data-src="images/1.png">
<img src="images/load.gif" data-src="images/2.png">
<img src="images/load.gif" data-src="images/3.png">
<img src="images/load.gif" data-src="images/4.png">
<img src="images/load.gif" data-src="images/5.png">
<img src="images/load.gif" data-src="images/6.png">
<img src="images/load.gif" data-src="images/7.png">
<img src="images/load.gif" data-src="images/8.png">
<img src="images/load.gif" data-src="images/9.png">
<img src="images/load.gif" data-src="images/10.png">
<img src="images/load.gif" data-src="images/11.png">
<img src="images/load.gif" data-src="images/12.png">
<script>
    function query(selector) {
        return Array.from(document.querySelectorAll(selector));
    }

    var io = new IntersectionObserver(function (items) {
        console.log('--log--:', items)
        items.forEach(function (item) {
            var target = item.target;
            if (item.isIntersecting && target.getAttribute('src') == 'images/load.gif') {
                target.src = target.getAttribute('data-src');
            }
        })
    });
    query('img').forEach(function (item) {
        io.observe(item);
    });
</script>
</body>
</html>
